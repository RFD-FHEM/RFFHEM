defmod test_sub_SIGNALduino_LoadProtocolHash UnitTest dummyDuino 
(
 {
    use Test2::V0;
    use Test2::Tools::Compare qw{ is };

		plan(3);
    my %ret= SIGNALduino_LoadProtocolHash("dummy.hash");
    ok(exists($ret{error}),"check with wrong filename");

  subtest 'Good SD_PROTOCL_DATA' => sub {
    	plan(1);
    
    	%ret= SIGNALduino_LoadProtocolHash("$attr{global}{modpath}/FHEM/lib/test_loadprotohash-ok.pm");
    	is($ret{error},undef,"check filename and syntax ok ");
	};

	subtest 'Bad SD_PROTOCL_DATA' => sub {
    	plan(1);
	 
    	%ret= SIGNALduino_LoadProtocolHash("$attr{global}{modpath}/FHEM/lib/test_loadprotohash-nok.pm");
    	ok(exists($ret{error}),"check filename and syntax not ok "); 
	};

	our %ProtocolListSIGNALduino = SIGNALduino_LoadProtocolHash("$attr{global}{modpath}/FHEM/lib/SD_ProtocolData.pm");

    SIGNALduino_IdList("x:$target","","","");  
 }
);
